"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addFileExtensionsToRequireResolve = void 0;
const assert_1 = require("./assert");
const isScriptFile_1 = require("./isScriptFile");
function addFileExtensionsToRequireResolve() {
    const added = [];
    isScriptFile_1.scriptFileExtensionList.forEach((ext) => {
        (0, assert_1.assert)(!ext.includes('.'));
        ext = `.${ext}`;
        if (!require.extensions[ext]) {
            require.extensions[ext] = require.extensions['.js'];
            added.push(ext);
        }
    });
    const clean = () => {
        added.forEach((ext) => {
            delete require.extensions[ext];
        });
    };
    return clean;
}
exports.addFileExtensionsToRequireResolve = addFileExtensionsToRequireResolve;
