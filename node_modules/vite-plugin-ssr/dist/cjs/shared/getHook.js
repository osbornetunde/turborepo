"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.assertHook = exports.getHook = void 0;
const utils_1 = require("./utils");
function getHook(pageContext, hookName) {
    if (!(hookName in pageContext.exports)) {
        return null;
    }
    const hookFn = pageContext.exports[hookName];
    const file = pageContext.exportsAll[hookName][0];
    (0, utils_1.assert)(file.exportValue === hookFn);
    const hookFilePath = file.exportSource;
    (0, utils_1.assert)(hookFilePath);
    (0, utils_1.assert)(!hookName.endsWith(')'));
    (0, utils_1.assertUsage)((0, utils_1.isCallable)(hookFn), `hook ${hookName}() defined by ${hookFilePath} should be a function`);
    return { hookFn, hookFilePath };
}
exports.getHook = getHook;
function assertHook(pageContext, hookName) {
    getHook(pageContext, hookName);
}
exports.assertHook = assertHook;
